
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Eugene Burtsev's blog</title>
  <meta name="author" content="Eugene Burtsev">

  
  <meta name="description" content="Some time ago I had some projects which I wanted to combine in one big project and keep history for all of them. This can be done following to this &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://burtsev.neten/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Eugene Burtsev's blog" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-19216537-2']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/en">Eugene Burtsev's blog</a></h1>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/en/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:burtsev.net" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/en">Blog</a></li>
  <li><a href="/en/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      


<div class="blog-index">
  
  
    
  
    
    
      <article>
        
  <header>
    
      <h1 class="entry-title"><a href="/en/2013/03/27/merging-unrelated-repositories-in-mercurial/">Merging Unrelated Repositories in Mercurial</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-03-27T21:46:00+04:00" pubdate data-updated="true">Mar 27<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Some time ago I had some projects which I wanted to combine in one big project and keep history for all of them. This can be done following to <a href="http://mercurial.selenic.com/wiki/MergingUnrelatedRepositories">this article</a>. But if I&#8217;ll use this solution in result I&#8217;ll have more than one tails (how it illustrated in picture below).</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>   @
</span><span class='line'>   |
</span><span class='line'>   o-----------o
</span><span class='line'>   |           |
</span><span class='line'>   .           .
</span><span class='line'>   .           .
</span><span class='line'>   |           |
</span><span class='line'>   o           o
</span><span class='line'>  tail        tail
</span><span class='line'>   #1          #2</span></code></pre></td></tr></table></div></figure>


<p>But I wanted to make repository structure as on picture below:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>   @
</span><span class='line'>   |
</span><span class='line'>   o-----------o
</span><span class='line'>   |           |
</span><span class='line'>   . default   .
</span><span class='line'>   .           . Feature
</span><span class='line'>   |           | branch
</span><span class='line'>   o           o
</span><span class='line'>   |           |
</span><span class='line'>   o-----------o
</span><span class='line'>   |
</span><span class='line'>   o</span></code></pre></td></tr></table></div></figure>


<p>After some hours with console magic I found solution, and I want to share it.</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/en/2013/03/27/merging-unrelated-repositories-in-mercurial/">Read on &rarr;</a>
    </footer>
  


      </article>
    
  
    
  
    
    
      <article>
        
  <header>
    
      <h1 class="entry-title"><a href="/en/2012/11/10/maven-custom-repository-layout/">Maven Custom Repository Layout</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-11-10T08:42:00+04:00" pubdate data-updated="true">Nov 10<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I&#8217;ve developed maven plugin to access repositories with custom structure. And I would share this solution with community.</p>

<p>Some time ago, I worked on java web project, and I used some JavaScript dependencies for it.
I&#8217;ve throught about dependency management for javascript dependencies like JQuery. Ordinary JS dependencies is not management, so we need download new versions manually.
First I found <a href="http://twitter.github.com/bower/">Bower</a> for javascript dependency management, but I afraid of node.js in dependencies for my project. I thought about CDNs which hosts js libraries. (for example jquery on Google CDN: <a href="http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js">http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js</a>).
I using maven in my projec, so it will be good to use CDNs via maven&#8230; Because CDN&#8217;s directories stricture is differs from standart maven layout, I decided to write own maven plugin to handle custom repository layout.</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/en/2012/11/10/maven-custom-repository-layout/">Read on &rarr;</a>
    </footer>
  


      </article>
    
  
    
  
    
    
      <article>
        
  <header>
    
      <h1 class="entry-title"><a href="/en/2012/05/30/192/">JSF2 + Spring Framework Example</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-05-30T21:19:00+04:00" pubdate data-updated="true">May 30<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Just recently I&#8217;ve discovered the Spring Framework. IMHO it is amazing framework. And I decided to rewrite a couple of my applications using Spring. Below I tell how to integrate Spring and JSF2</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/en/2012/05/30/192/">Read on &rarr;</a>
    </footer>
  


      </article>
    
  
    
  
    
    
      <article>
        
  <header>
    
      <h1 class="entry-title"><a href="/en/2012/01/29/149/">Google Gdata Maven Repository</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-01-29T20:24:00+04:00" pubdate data-updated="true">Jan 29<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Some time ago, I was searching for <a href="http://code.google.com/p/gdata-java-client/">google gdata</a> maven repository, but I was surprised - it has no any maven repositories! Of course, there are a new <a href="http://code.google.com/p/google-api-java-client/">google-api-java-client</a>, , but it do not implements all google API&#8217;s, for example it don&#8217;t implement Provisioning API for domains.</p>

<p>I found some repositories with older versions of library.</p>

<p>Also I found awesome <a href="https://github.com/dcarter/Google-Data-APIs-Mavenized/network">script</a> which helps to create local maven repo for Google&#8217;s gdata library.</p>

<p>I used modified version of this script to create my own repository hosted on my server. I&#8217;ll happy if it will be helpfull for someone.</p>

<p>Details under the cut</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/en/2012/01/29/149/">Read on &rarr;</a>
    </footer>
  


      </article>
    
  
    
  
    
    
      <article>
        
  <header>
    
      <h1 class="entry-title"><a href="/en/2012/01/13/107/">Java 7 Try-with-resources and MyBatis</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-01-13T10:41:00+04:00" pubdate data-updated="true">Jan 13<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>With Java 7 came analog of using construction from C# - <a href="http://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html">try-with-resources</a>. This feature is very well for automatically close resources such as database connections, etc.
For example:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="k">try</span> <span class="o">(</span><span class="n">SqlSession</span> <span class="n">session</span> <span class="o">=</span> <span class="n">ConnectionFactory</span><span class="o">.</span><span class="na">getSqlSessionFactory</span><span class="o">().</span><span class="na">openSession</span><span class="o">())</span> <span class="o">{</span>
</span><span class='line'>  <span class="c1">// Work with session</span>
</span><span class='line'>  <span class="n">session</span><span class="o">.</span><span class="na">commit</span><span class="o">();</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>But there are an trouble - class org.apache.ibatis.session.SqlSession from MyBatis 3.0.6 does not implement AutoCloseable interface which is required to work try-with-resources construction. I hope that in next version it will be fixed, but now I can offer small workaround.</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/en/2012/01/13/107/">Read on &rarr;</a>
    </footer>
  


      </article>
    
  
    
  
    
    
      <article>
        
  <header>
    
      <h1 class="entry-title"><a href="/en/2012/01/12/100/">Prevent iBatis org.apache.ibatis.transaction. TransactionException if the Database Connection Is Temporarily Lost</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-01-12T14:10:00+04:00" pubdate data-updated="true">Jan 12<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Sometimes there is an unpleasant situation when the database server goes to reboot.
In this case, we can catch a nasty exception like this:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
</pre></td><td class='code'><pre><code class='text'><span class='line'>Caused by: org.apache.ibatis.exceptions.PersistenceException:
</span><span class='line'>### Error opening session.  Cause: org.apache.ibatis.transaction.TransactionException: Error configuring AutoCommit.  Your driver may not support getAutoCommit() or setAutoCommit(). Requested setting: false.  Cause: com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: The last packet successfully received from the server was 59,121,876 milliseconds ago.  The last packet sent successfully to the server was 59,121,984 milliseconds ago. is longer than the server configured value of &#39;wait_timeout&#39;. You should consider either expiring and/or testing connection validity before use in your application, increasing the server configured values for client timeouts, or using the Connector/J connection property &#39;autoReconnect=true&#39; to avoid this problem.
</span><span class='line'>### Cause: org.apache.ibatis.transaction.TransactionException: Error configuring AutoCommit.  Your driver may not support getAutoCommit() or setAutoCommit(). Requested setting: false.  Cause: com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: The last packet successfully received from the server was 59,121,876 milliseconds ago.  The last packet sent successfully to the server was 59,121,984 milliseconds ago. is longer than the server configured value of &#39;wait_timeout&#39;. You should consider either expiring and/or testing connection validity before use in your application, increasing the server configured values for client timeouts, or using the Connector/J connection property &#39;autoReconnect=true&#39; to avoid this problem.
</span><span class='line'>        at org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:8)
</span><span class='line'>        at org.apache.ibatis.session.defaults.DefaultSqlSessionFactory.openSessionFromDataSource(DefaultSqlSessionFactory.java:83)
</span><span class='line'>        at org.apache.ibatis.session.defaults.DefaultSqlSessionFactory.openSession(DefaultSqlSessionFactory.java:32)
</span><span class='line'>        at com.greytower.htmltemplates.core.dao.ibatis.TemplatesDAOImpl.readAll(TemplatesDAOImpl.java:70)
</span><span class='line'>        at com.greytower.htmltemplates.beans.TemplatesEditorBean.init(TemplatesEditorBean.java:86)
</span><span class='line'>        ... 59 more
</span><span class='line'>Caused by: org.apache.ibatis.transaction.TransactionException: Error configuring AutoCommit.  Your driver may not support getAutoCommit() or setAutoCommit(). Requested setting: false.  Cause: com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: The last packet successfully received from the server was 59,121,876 milliseconds ago.  The last packet sent successfully to the server was 59,121,984 milliseconds ago. is longer than the server configured value of &#39;wait_timeout&#39;. You should consider either expiring and/or testing connection validity before use in your application, increasing the server configured values for client timeouts, or using the Connector/J connection property &#39;autoReconnect=true&#39; to avoid this problem.
</span><span class='line'>        at org.apache.ibatis.transaction.jdbc.JdbcTransaction.setDesiredAutoCommit(JdbcTransaction.java:51)
</span><span class='line'>        at org.apache.ibatis.transaction.jdbc.JdbcTransaction.&lt;init&gt;(JdbcTransaction.java:19)
</span><span class='line'>        at org.apache.ibatis.transaction.jdbc.JdbcTransactionFactory.newTransaction(JdbcTransactionFactory.java:15)
</span><span class='line'>        at org.apache.ibatis.session.defaults.DefaultSqlSessionFactory.openSessionFromDataSource(DefaultSqlSessionFactory.java:78)
</span><span class='line'>        ... 62 more
</span><span class='line'>Caused by: com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: The last packet successfully received from the server was 59,121,876 milliseconds ago.  The last packet sent successfully to the server was 59,121,984 milliseconds ago. is longer than the server configured value of &#39;wait_timeout&#39;. You should consider either expiring and/or testing connection validity before use in your application, increasing the server configured values for client timeouts, or using the Connector/J connection property &#39;autoReconnect=true&#39; to avoid this problem.
</span></code></pre></td></tr></table></div></figure>


</div>
  
  
    <footer>
      <a rel="full-article" href="/en/2012/01/12/100/">Read on &rarr;</a>
    </footer>
  


      </article>
    
  
    
  
    
    
      <article>
        
  <header>
    
      <h1 class="entry-title"><a href="/en/2011/10/02/63/">PrimeFaces Tips & Tricks</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-10-02T13:00:00+04:00" pubdate data-updated="true">Oct 2<span>nd</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Below I will describe solutions to common problems occurring working with <a href="http://primefaces.org">PrimeFaces</a> JSF components library.</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/en/2011/10/02/63/">Read on &rarr;</a>
    </footer>
  


      </article>
    
  
    
  
    
    
      <article>
        
  <header>
    
      <h1 class="entry-title"><a href="/en/2011/08/03/13/">Installation of Mercurial + UWSGI + Nginx + HTTPS on Ubuntu Server 10.04</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-08-03T20:28:00+04:00" pubdate data-updated="true">Aug 3<span>rd</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Some times ago I installed Mercurial server, using as a frontend nginx. Internet has a lot of information about this, but I had to improvise a lot that would achieve a result. So, here is the result of my work.</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/en/2011/08/03/13/">Read on &rarr;</a>
    </footer>
  


      </article>
    
  
  <div class="pagination">
    
    <a href="/en/archives">Blog Archives</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Language</h1>
  <div class="languages">
  
    <a class="language-link" href="/en/">en</a>
  
    <a class="language-link" href="/">ru</a>
  
  </div>
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      
    
      
        <li class="post">
          <a href="/en/2013/03/27/merging-unrelated-repositories-in-mercurial/">Merging unrelated repositories in mercurial</a>
        </li>
      
    
      
    
      
        <li class="post">
          <a href="/en/2012/11/10/maven-custom-repository-layout/">Maven custom repository layout</a>
        </li>
      
    
      
    
      
        <li class="post">
          <a href="/en/2012/05/30/192/">JSF2 + Spring Framework Example</a>
        </li>
      
    
      
    
      
        <li class="post">
          <a href="/en/2012/01/29/149/">Google gdata maven repository</a>
        </li>
      
    
      
    
      
        <li class="post">
          <a href="/en/2012/01/13/107/">Java 7 try-with-resources and MyBatis</a>
        </li>
      
    
  </ul>
</section>




<section class="googleplus googleplus-hidden">
  <h1>
    <a href="https://plus.google.com/106511780456912280637?rel=author">
      <img src="http://www.google.com/images/icons/ui/gprofile_button-32.png" width="32" height="32">
      Google+
    </a>
  </h1>
</section>



  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Eugene Burtsev -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'burtsevnet';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>





  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
